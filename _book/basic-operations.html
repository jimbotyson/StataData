<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Basic Operations | Data Manipulation in Stata</title>
  <meta name="description" content="4 Basic Operations | Data Manipulation in Stata" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Basic Operations | Data Manipulation in Stata" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="jimbotyson/StataDataWrangler" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Basic Operations | Data Manipulation in Stata" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="css/readthedocs.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i><b>2</b> Acknowledgments</a></li>
<li class="chapter" data-level="3" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>3</b> Getting Started</a><ul>
<li class="chapter" data-level="3.1" data-path="getting-started.html"><a href="getting-started.html#prerequisites"><i class="fa fa-check"></i><b>3.1</b> Prerequisites</a></li>
<li class="chapter" data-level="3.2" data-path="getting-started.html"><a href="getting-started.html#software-requirements"><i class="fa fa-check"></i><b>3.2</b> Software Requirements</a><ul>
<li class="chapter" data-level="3.2.1" data-path="getting-started.html"><a href="getting-started.html#stata-release-17-or-later."><i class="fa fa-check"></i><b>3.2.1</b> Stata Release 17 or later.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="basic-operations.html"><a href="basic-operations.html"><i class="fa fa-check"></i><b>4</b> Basic Operations</a><ul>
<li class="chapter" data-level="4.1" data-path="basic-operations.html"><a href="basic-operations.html#folders"><i class="fa fa-check"></i><b>4.1</b> Folders</a></li>
<li class="chapter" data-level="4.2" data-path="basic-operations.html"><a href="basic-operations.html#the-do-file"><i class="fa fa-check"></i><b>4.2</b> The do file</a></li>
<li class="chapter" data-level="4.3" data-path="basic-operations.html"><a href="basic-operations.html#initiating-your-data-wrangling-script"><i class="fa fa-check"></i><b>4.3</b> Initiating your data wrangling script</a></li>
<li class="chapter" data-level="4.4" data-path="basic-operations.html"><a href="basic-operations.html#dataset"><i class="fa fa-check"></i><b>4.4</b> Dataset</a><ul>
<li class="chapter" data-level="4.4.1" data-path="basic-operations.html"><a href="basic-operations.html#data-types"><i class="fa fa-check"></i><b>4.4.1</b> Data Types</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Manipulation in Stata</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basic-operations" class="section level1">
<h1><span class="header-section-number">4</span> Basic Operations</h1>
<div id="folders" class="section level2">
<h2><span class="header-section-number">4.1</span> Folders</h2>
<p>I assume that you have a folder structure like</p>
<pre><code>Project Folder
├── raw data
├── scripts
│   ├── cleanmydata.do
│   └── modelmydata.do
├── documentation
│   ├── PDFs
│   └── Word_docs
└──graphs</code></pre>
<p>Of course, other folder set-ups are possible, so be aware of your own as you follow the rest of this guide. I assume that the path to your project is</p>
<p><code>c:\users\jt\Documents\Projects\StataWrangling</code></p>
</div>
<div id="the-do-file" class="section level2">
<h2><span class="header-section-number">4.2</span> The do file</h2>
<p>Let’s start off by creating a new do file:</p>
<pre><code>doedit newdo.do</code></pre>
<p>Clear everything to make sure there’s nothing leftover in our environment</p>
<pre><code>clear all</code></pre>
</div>
<div id="initiating-your-data-wrangling-script" class="section level2">
<h2><span class="header-section-number">4.3</span> Initiating your data wrangling script</h2>
<p>In a new data wrangling script you should
- start a log;
- make sure you are in the correct project directory;
- clear working memory.</p>
<p>So in your new do file add these lines:</p>
<pre><code>capture log close
log using &quot;MainProjectName $S_DATE.log&quot;, append</code></pre>
<p>or</p>
<pre><code>cmdlog using &quot;CommandsProjectName $S_DATE.log&quot;, append</code></pre>
<p>to log commands only and not output.</p>
<p>Next you should make sure you are in the correct directory. Normally for a data wrangling script, this will be the <code>raw data</code> directory for the project.</p>
<pre><code>cd c:\users\jt\Documents\Projects\StataWrangling\raw data\</code></pre>
<p>and then the line</p>
<pre><code>clear all</code></pre>
<p>to start with a clear workspace.</p>
</div>
<div id="dataset" class="section level2">
<h2><span class="header-section-number">4.4</span> Dataset</h2>
<p>We’re using a dataset of examination results from thirty school students.</p>
<p>These data are in in csv format: comma seperated values. Each case or observation is a row with variables in rows seperated by commas.</p>
<p>Read the main data file:</p>
<pre><code>use https://www.ucl.ac.uk/~ccaajim/results</code></pre>
<p>When you first read a datafile, you should always</p>
<ul>
<li><code>describe</code> the data;</li>
<li>check the codebook.</li>
</ul>
<p>You can do this for the complete set of variable s for simple cases, but you may wish to be selective when you have a lot of variables.</p>
<div id="data-types" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Data Types</h3>
<p>The examination data is quite simple. In your do file add</p>
<pre><code>describe
codebook</code></pre>
<p>This produces</p>
<p><img src="images/describeoutput1.png" alt="The main Stata results screen showing the output of desc" />
### Interpretation</p>
<p>This output shows first how many observations there are in your data and how many variables. The table that follows includes some detail about each variable:</p>
<p><strong>Storage type</strong> There are two basic data types in Stata: <em>numeric</em> and <em>string</em> data. String data has two subtypes: strL (L for long) variables can store phenominal amounts of character data (2 billion) and str# (where # is a number) and have a limit on length of 2045 characters.
Numeric data is of one of five types:</p>
<table>
<thead>
<tr class="header">
<th>type</th>
<th>precision</th>
<th>range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>byte</td>
<td>integer</td>
<td>-127 to 100</td>
</tr>
<tr class="even">
<td>int</td>
<td>integer</td>
<td>-32,767 and 32,740</td>
</tr>
<tr class="odd">
<td>long</td>
<td>integer</td>
<td>-2,147,483,647 and 2,147,483,620</td>
</tr>
<tr class="even">
<td>float</td>
<td>real</td>
<td>8 digits of accuracy</td>
</tr>
<tr class="odd">
<td>double</td>
<td>real</td>
<td>16 digits of accuracy</td>
</tr>
</tbody>
</table>
<p>Format types are associated with variables - each has a default, which determines how values are displayed, so that regardless of the precision of the type, the number of decimal places and the width in number of characters to be displayed can be fixed.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["statadata_tutorial.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
